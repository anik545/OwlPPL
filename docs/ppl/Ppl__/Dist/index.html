<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dist (ppl.Ppl__.Dist)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ppl</a> &#x00BB; <a href="../index.html">Ppl__</a> &#x00BB; Dist</nav><h1>Module <code>Ppl__.Dist</code></h1><nav class="toc"><ul><li><a href="#dist_monad">Condition Operators</a></li><li><a href="#dist_monad">Monad Functions</a></li><li><a href="#dist_sample">Sampling</a></li><li><a href="#prior">Prior Distribution</a></li></ul></nav></header><aside><p>Module used for defining probabilistic models</p><p>Contains a type <a href="index.html#type-dist"><code>dist</code></a> which is used to represent probabilistic models.</p></aside><dl><dt class="spec exception" id="exception-Undefined"><a href="#exception-Undefined" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Undefined</span></code></dt></dl><dl><dt class="spec module" id="module-Prob"><a href="#module-Prob" class="anchor"></a><code><span class="keyword">module</span> <a href="Prob/index.html">Prob</a> : <a href="../Sigs/index.html#module-type-Prob">Ppl__.Sigs.Prob</a></code></dt><dd><p>The module used to represent probability, can be switched to use log probs</p></dd></dl><dl><dt class="spec type" id="type-prob"><a href="#type-prob" class="anchor"></a><code><span class="keyword">type</span> prob</code><code> = <a href="Prob/index.html#type-t">Prob.t</a></code></dt><dd><p>A type for which values need to sum to 1 (not an enforced property)</p></dd></dl><dl><dt class="spec type" id="type-likelihood"><a href="#type-likelihood" class="anchor"></a><code><span class="keyword">type</span> likelihood</code><code> = <a href="Prob/index.html#type-t">Prob.t</a></code></dt><dd><p>A type for which values don't need to sum to 1 (not an enforced property)</p></dd></dl><dl><dt class="spec type" id="type-samples"><a href="#type-samples" class="anchor"></a><code><span class="keyword">type</span> <span>'a samples</span></code><code> = <span><span>(<span class="type-var">'a</span> * <a href="index.html#type-prob">prob</a>)</span> list</span></code></dt><dd><p>A set of weighted samples, summing to one</p></dd></dl><dl><dt class="spec type" id="type-dist"><a href="#type-dist" class="anchor"></a><code><span class="keyword">type</span> <span>_ dist</span></code><code> = <span class="keyword">private</span> </code><table class="variant"><tr id="type-dist.Return" class="anchored"><td class="def constructor"><a href="#type-dist.Return" class="anchor"></a><code>| </code><code><span class="constructor">Return</span> : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></td><td class="doc"><p>distribution with a single value</p></td></tr><tr id="type-dist.Bind" class="anchored"><td class="def constructor"><a href="#type-dist.Bind" class="anchor"></a><code>| </code><code><span class="constructor">Bind</span> : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> * <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span></code></td><td class="doc"><p>monadic bind</p></td></tr><tr id="type-dist.Primitive" class="anchored"><td class="def constructor"><a href="#type-dist.Primitive" class="anchor"></a><code>| </code><code><span class="constructor">Primitive</span> : <span><span class="type-var">'a</span> <a href="../../Ppl/Primitive/index.html#type-t">Ppl.Primitive.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></td><td class="doc"><p>primitive exact distribution</p></td></tr><tr id="type-dist.Conditional" class="anchored"><td class="def constructor"><a href="#type-dist.Conditional" class="anchor"></a><code>| </code><code><span class="constructor">Conditional</span> : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-likelihood">likelihood</a>)</span> * <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></td><td class="doc"><p>variant that defines likelihood model</p></td></tr><tr id="type-dist.Independent" class="anchored"><td class="def constructor"><a href="#type-dist.Independent" class="anchor"></a><code>| </code><code><span class="constructor">Independent</span> : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> * <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="index.html#type-dist">dist</a></span></code></td><td class="doc"><p>for combining two independent distributions</p></td></tr></table></dt><dd><p>GADT for representing distributions, private to avoid direct manipulation</p></dd></dl><section><header><h3 id="dist_monad"><a href="#dist_monad" class="anchor"></a>Condition Operators</h3></header><dl><dt class="spec value" id="val-condition'"><a href="#val-condition'" class="anchor"></a><code><span class="keyword">val</span> condition' : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> float)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></dt><dd><p>The most general condition operator</p></dd></dl><dl><dt class="spec value" id="val-condition"><a href="#val-condition" class="anchor"></a><code><span class="keyword">val</span> condition : bool <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></dt><dd><p>Hard conditioning</p></dd></dl><dl><dt class="spec value" id="val-score"><a href="#val-score" class="anchor"></a><code><span class="keyword">val</span> score : float <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></dt><dd><p>Soft conditioning, add a constant score to a trace</p></dd></dl><dl><dt class="spec value" id="val-observe"><a href="#val-observe" class="anchor"></a><code><span class="keyword">val</span> observe : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Ppl/Primitive/index.html#type-t">Ppl.Primitive.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span></code></dt><dd><p>Soft conditioning for observations from a known distribution</p></dd></dl></section><section><header><h3 id="dist_monad"><a href="#dist_monad" class="anchor"></a>Monad Functions</h3><p>Monad functions</p></header><div><div class="spec include"><div class="doc"><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val</span> bind : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;=) : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span class="keyword">val</span> let* : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-fmap"><a href="#val-fmap" class="anchor"></a><code><span class="keyword">val</span> fmap : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-liftM"><a href="#val-liftM" class="anchor"></a><code><span class="keyword">val</span> liftM : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-liftM2"><a href="#val-liftM2" class="anchor"></a><code><span class="keyword">val</span> liftM2 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-mapM"><a href="#val-mapM" class="anchor"></a><code><span class="keyword">val</span> mapM : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'b</span> list</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span class="keyword">val</span> sequence : <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="index.html#type-t">t</a></span></code></dt></dl></div></div></div><dl><dt class="spec value" id="val-and*"><a href="#val-and*" class="anchor"></a><code><span class="keyword">val</span> and* : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="index.html#type-dist">dist</a></span></code></dt></dl><div><div class="spec include"><div class="doc"><h3 id="dist_prims"><a href="#dist_prims" class="anchor"></a>Primitives</h3><p>These functions create <a href="index.html#type-dist"><code>dist</code></a> values which correspond to primitive distributions so that they can be used in models.</p><dl><dt class="spec type" id="type-primitive"><a href="#type-primitive" class="anchor"></a><code><span class="keyword">type</span> <span>'a primitive</span></code></dt></dl><dl><dt class="spec value" id="val-binomial"><a href="#val-binomial" class="anchor"></a><code><span class="keyword">val</span> binomial : int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>int <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-normal"><a href="#val-normal" class="anchor"></a><code><span class="keyword">val</span> normal : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>float <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-categorical"><a href="#val-categorical" class="anchor"></a><code><span class="keyword">val</span> categorical : <span><span>(<span class="type-var">'a</span> * float)</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-discrete_uniform"><a href="#val-discrete_uniform" class="anchor"></a><code><span class="keyword">val</span> discrete_uniform : <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-beta"><a href="#val-beta" class="anchor"></a><code><span class="keyword">val</span> beta : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>float <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-gamma"><a href="#val-gamma" class="anchor"></a><code><span class="keyword">val</span> gamma : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>float <a href="index.html#type-primitive">primitive</a></span></code></dt><dt class="spec value" id="val-continuous_uniform"><a href="#val-continuous_uniform" class="anchor"></a><code><span class="keyword">val</span> continuous_uniform : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>float <a href="index.html#type-primitive">primitive</a></span></code></dt></dl></div></div></div><dl><dt class="spec value" id="val-bernoulli"><a href="#val-bernoulli" class="anchor"></a><code><span class="keyword">val</span> bernoulli : float <span>&#45;&gt;</span> <span>bool <a href="index.html#type-dist">dist</a></span></code></dt></dl></section><section><header><h3 id="dist_sample"><a href="#dist_sample" class="anchor"></a>Sampling</h3></header><dl><dt class="spec value" id="val-sample"><a href="#val-sample" class="anchor"></a><code><span class="keyword">val</span> sample : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-sample_n"><a href="#val-sample_n" class="anchor"></a><code><span class="keyword">val</span> sample_n : int <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span></code></dt><dt class="spec value" id="val-sample_with_score"><a href="#val-sample_with_score" class="anchor"></a><code><span class="keyword">val</span> sample_with_score : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> * <a href="index.html#type-likelihood">likelihood</a></code></dt></dl></section><section><header><h3 id="prior"><a href="#prior" class="anchor"></a>Prior Distribution</h3></header><dl><dt class="spec value" id="val-prior'"><a href="#val-prior'" class="anchor"></a><code><span class="keyword">val</span> prior' : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></dt></dl><dl><dt class="spec value" id="val-prior_with_score"><a href="#val-prior_with_score" class="anchor"></a><code><span class="keyword">val</span> prior_with_score : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <a href="index.html#type-likelihood">likelihood</a>)</span> <a href="index.html#type-dist">dist</a></span></code></dt><dt class="spec value" id="val-support"><a href="#val-support" class="anchor"></a><code><span class="keyword">val</span> support : <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt></dl><dl><dt class="spec module" id="module-PplOps"><a href="#module-PplOps" class="anchor"></a><code><span class="keyword">module</span> <a href="PplOps/index.html">PplOps</a> : <a href="../Sigs/index.html#module-type-Ops">Ppl__.Sigs.Ops</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="../Sigs/module-type-Ops/index.html#type-dist">dist</a></span> := <span><span class="type-var">'a</span> <a href="index.html#type-dist">dist</a></span></code></dt><dd><p>Common operators for combining distributions</p></dd></dl></section></div></body></html>