\documentclass[12pt,notitlepage,twoside,a4paper]{report}

\usepackage{verbatim}
\usepackage[hidelinks]{hyperref}
\usepackage[parfill]{parskip}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[margin=1in,headheight=13.6pt]{geometry}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

% \addtolength{\oddsidemargin}{6mm}       % adjust margins
% \addtolength{\evensidemargin}{-8mm}

\renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make
                                        % more readable

\begin{document}

\bibliographystyle{plain}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title


\pagestyle{empty}

\hfill{\LARGE \bf Anik Roy}

\vspace*{60mm}
\begin{center}
\Huge
{\bf A probabilistic programming language in Ocaml} \\
\vspace*{5mm}
Computer Science Tripos - Part II \\
\vspace*{5mm}
Christ's College \\
\vspace*{5mm}
\today  % today's date
\end{center}

\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Proforma, table of contents and list of figures

\setcounter{page}{1}
\pagenumbering{roman}
\pagestyle{plain}

\chapter*{Declaration of Originality}

I, Anik Roy of Christ's College, being a candidate for Part II of the Computer Science Tripos, hereby declare that this dissertation and the work described in it are my own work, unaided except as may be specified below, and that the dissertation does not contain material that has already been used to any substantial extent for a comparable purpose.

I, Anik Roy of Christ's College, am content for my dissertation to be made available to the students and staff of the University. 

\bigskip
\leftline{Signed [signature]}

\medskip
\leftline{Date:  \today}
\clearpage

\chapter*{Proforma}
\immediate\write18{texcount -inc -sum -1 diss.tex > wordcount.txt}
\immediate\write18{cloc  --yaml `git ls-files evaluation ppl` | grep 'code: ' | tail -n 1 | sed  's/  code://g'}

{\large

\begin{tabular}{ll}
Candidate Number:               &  Anik Roy                       \\
College:            &  Christ's College                     \\
Project Title:      &  A Probabilistic Programming \\
&
 Language in Ocaml \\
Examination:        & Computer Science Tripos Part II        \\
Word Count:  
& \input{wordcount.txt}\footnotemark[1]\\
Final Line Count:         & \input{linecount.txt}\footnotemark[2] \\
Project Originator: & Dr R.~Mortier                    \\
Supervisor:         & Dr R.~Mortier                    \\ 
\end{tabular}
}
\footnotetext[1]{This word count was computed by \texttt{texcount -inc -sum -1 diss.tex}}
\stepcounter{footnote}


\footnotetext[2]{This line count was computed by \texttt{cloc (git ls-files)} and excludes blank lines and comments}
\stepcounter{footnote}

\section*{Original Aims of the Project}

\section*{Work Completed}

\section*{Special Difficulties}
None

\newpage


\cleardoublepage

\tableofcontents
\listoffigures
\lstlistoflistings

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% now for the chapters

\cleardoublepage        % just to make sure before the page numbering
                        % is changed

\setcounter{page}{1}
\pagenumbering{arabic}
\pagestyle{headings}



\chapter{Introduction}
\input{chapters/introduction.tex}
\cleardoublepage

\chapter{Preparation}
\input{chapters/preparation.tex}
\cleardoublepage

\chapter{Implementation}
\input{chapters/implementation.tex}
\cleardoublepage

\chapter{Evaluation}
\input{chapters/evaluation.tex}
\cleardoublepage

\chapter{Conclusion}
\input{chapters/conclusion.tex}
\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the bibliography

\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{refs}
\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the appendices
\appendix
\chapter{Project Proposal}

\input{propbody}

\end{document}
